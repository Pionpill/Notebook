<link rel=stylesheet href=style.css>

<h1> 数据类型 </h1>
<h2> 0 概述 </h2>
<h3> 0.1 数据类型 </h3>

> 中文参考：<a href=https://www.runoob.com/r/r-data-types.html> runoob </a>

<h4> 弱数据类型 </h4>

  - R 语言并不需要为变量设置数据类型，每当在 R 中使用赋值运算符时，实际上就是定义了一个新的变量

<h2> 1 基本数据类型 </h2>
<h3> 1.1 数字，逻辑 </h3>

> 中文参考：<a href=https://www.runoob.com/r/r-data-types.html> runoob </a>

<h4> 数字 </h4>

  - 数字常量定义
    | 定义方式   | 举例            |
    | ---------- | --------------- |
    | 一般型     | 123,-0.125      |
    | 科学计数法 | 1.23e2,-1.25E-1 |

<h4> 逻辑 </h4>

  - 同 C++ 布尔型
  - R 语言区分大小写，true 或 True 不能代表 TRUE

<h3> 1.2 向量 </h3>

> 中文参考：<a href=https://www.runoob.com/r/r-data-types.html> runoob </a>

<h4> 向量 vector </h4>

  - 向量从数据结构上看就是一个线性表，可以看成一个数组
    ```R
    a = c(3, 4)
    b = c(5, 0)
    a + b        # 8 4
    ```
<h4> c() 函数 </h4>

  - 用于创建向量
    ```R
    a = c(10, 20, 30, 40, 50)
    a[2]           # 20
    a[1:4]         # 10 20 30 40
    a[c(1,3,5)]    # 10 30 50
    a[c(-1, -5)]   # 20 30 40
    ```
  - R 语言中的"下标"不代表偏移量，而代表第几个，也就是说是从 1 开始的
  - 向量支持标量计算
    ```R
    c(1.1, 1.2, 1.3) - 0.5     #0.6 0.7 0.8
    a = c(1,2)
    a ^ 2     #1 4
    ```
<h4> 其他函数 </h4>

  - 向量运算函数
    ```R
    a = c(1, 3, 5, 2, 4, 6)
    sort(a)        # 1 2 3 4 5 6
    rev(a)         # 6 4 2 5 3 1
    order(a)       # 1 4 2 5 3 6
    a[order(a)]    # 1 2 3 4 5 6
    ```
  - 常用统计学函数
    | 函数    | 含义     |
    | ------- | -------- |
    | sum()   | 求和     |
    | mean()  | 求平均值 |
    | var()   | 方差     |
    | sd()    | 标准差   |
    | min()   | 最小值   |
    | max()   | 最大值   |
    | range() | 取值范围 |

<h4> 向量的创建 </h4>

  - 向量生成
    ```R
    seq(1, 9, 2)                # 1 3 5 7 9
    seq(0, 1, length.out=3)     # 0.0 0.5 1.0
    rep(0, 5)                   # 0 0 0 0 0
    ```
  - NA 和 NULL
    - NA: 缺失
    - NULL: 不存在
    ```R
    length(c(NA, NA, NULL))    # 32
    c(NA, NA, NULL, NA)        # NA NA NA
    ```

<h4> 向量的逻辑运算 </h4>

  - 逻辑运算
    ```R
    # 基本逻辑运算
    c(1, 2, 3) > 2     # FALSE FALSE  TRUE
    # which 筛选下标
    a = c(1, 2, 3)
    b = a > 2
    print(b)           # FALSE FALSE  TRUE
    which(b)           # 3
    vector = c(10, 40, 78, 64, 53, 62, 69, 70)
    print(vector[which(vector >= 60 & vector < 70)])   #64 62 69
    # all 检查是否全部为 TRUE
    all(c(TRUE, TRUE, TRUE))     # TRUE
    all(c(TRUE, TRUE, FALSE))    # FALSE
    # any 检查是否含有 TRUE
    any(c(TRUE, FALSE, FALSE))   # TRUE
    any(c(FALSE, FALSE, FALSE))  # FALSE
    ```

<h3> 1.3 字符串 </h3>

> 中文参考：<a href=https://www.runoob.com/r/r-data-types.html> runoob </a>

<h4> 字符串创建 </h4>

  - R 语言字符串可以使用一对单引号 ' ' 或一对双引号 " " 来表示
  - 单引号中可以包含双引号，双引号中可以包含单引号

<h4> 字符串操作 </h4>

  - paste() 函数
    - paste() 函数用于使用指定对分隔符对字符串进行连接，默认为空格
    - 语法格式  
      ```paste(..., sep = " ", collapse = NULL)```
      - ... ： 字符串列表
      - sep ： 分隔符，默认为空格
      - collapse ： 两个或者更多字符串对象根据元素对应关系拼接到一起，在字符串进行连接后，再使用 collapse 指定对连接符进行连接
    - 举例
      ```R
      a <- "Google"
      b <- 'Runoob'
      c <- "Taobao"
      paste(a,b,c)
      # "Google Runoob Taobao"
      paste(a,b,c, sep = "-")
      # "Google-Runoob-Taobao"
      paste(letters[1:6],1:6, sep = "", collapse = "=")
      # "a1=b2=c3=d4=e5=f6"
      paste(letters[1:6],1:6, collapse = ".")
      # "a 1.b 2.c 3.d 4.e 5.f 6"
      ```
  - format() 函数
    - format() 函数用于格式化字符串，format() 可作用于字符串或数字
    - 语法格式  
      ```format(x, digits, nsmall, scientific, width, justify = c("left", "right", "centre", "none")) ```
      - x ： 输入对向量
      - digits ： 显示的位数
      - nsmall ： 小数点右边显示的最少位数
      - scientific ： 设置科学计数法
      - width ： 通过开头填充空白来显示最小的宽度
      - justify：设置位置，显示可以是左边、右边、中间等
    - 举例
      ```R
      # 显示 9 位，最后一位四舍五入
      result <- format(23.123456789, digits = 9)
          # "23.1234568"
      # 使用科学计数法显示
      result <- format(c(6, 13.14521), scientific = TRUE)
          # "6.000000e+00" "1.314521e+01"
      # 小数点右边最小显示 5 位，没有的以 0 补充
      result <- format(23.47, nsmall = 5)
          # "23.47000"
      # 将数字转为字符串
      result <- format(6)
          # "6"
      # 宽度为 6 位，不够的在开头添加空格
      result <- format(13.7, width = 6)
          # "  13.7"
      # 左对齐字符串
      result <- format("Runoob", width = 9, justify = "l")
          # "Runoob   "
      # 居中显示
      result <- format("Runoob", width = 10, justify = "c")
          # "  Runoob  "
      ```
  - nchar() 函数
    - nchar() 函数用于计数字符串或数字列表的长度
    - 语法格式  
      ```nchar(x,type)```
      - x ： 向量或字符串
      - type ： 计算方式
    - 举例
      ```R
      result <- nchar("Google Runoob Taobao")  # 20
      nchar("中文", type="bytes")       # 4
      nchar("中文", type="char")        # 2
      ```
  - toupper() & tolower() 函数
    - toupper() & tolower() 函数用于将字符串的字母转化为大写或者小写
    - 举例
      ```R
      result <- toupper("Runoob")     # "RUNOOB"
      result <- tolower("Runoob")     # "runoob" 
      ```
  - substring() 函数
    - substring() 函数用于截取字符串
    - 语法格式  
      ```substring(x,first,last)```
      - x ： 向量或字符串
      - first ： 开始截取的位置
      - last： 结束截取的位置
    - 举例
      ```R
      result <- substring("Runoob", 2, 5)   # "unoo"
      ```
  - 其他操作函数
    ```R
    > as.numeric("12") # 将字符串转换为数字
    [1] 12
    > as.character(12.34) # 将数字转换为字符串
    [1] "12.34"
    > strsplit("2019;10;1", ";") # 分隔符拆分字符串
    [[1]]
    [1] "2019" "10"   "1"
    > gsub("/", "-", "2019/10/1") # 替换字符串
    [1] "2019-10-1"
    ```
  - 正则表达式
    ```R
    gsub("[[:alpha:]]+", "$", "Two words")    # "$ $"
    ```

<h3> 1.4 列表 </h3>

> 中文参考：<a href=https://www.runoob.com/r/r-list.html> runoob </a>

<h3> 1.5 矩阵 </h3>

  - 矩阵的生成
  - 矩阵初始化内容是由一个向量来传递的，其次要表达一个矩阵有几行、有几列
    ```R
    vector=c(1, 2, 3, 4, 5, 6)
    matrix(vector, 2, 3)
         [,1] [,2] [,3]
    [1,]    1    3    5
    [2,]    2    4    6
    ```
  - 向量中的值会一列一列的填充。如果想按行填充，需要指定 byrow 属性
    ```R
    matrix(vector, 2, 3, byrow=TRUE)
         [,1] [,2] [,3]
    [1,]    1    2    3
    [2,]    4    5    6
    ```
  - 矩阵元素的访问
    ```R
    m1 = matrix(vector, 2, 3, byrow=TRUE)
    m1[1,1]   # 第 1 行 第 1 列  值为 1
    m1[1,3]   # 第 1 行 第 3 列  值为 3
    ```
  - 矩阵的每一列/行都可以设定名称，这个过程通过字符串向量批量完成
    ```R
    colnames(m1) = c("x", "y", "z")
    rownames(m1) = c("a", "b")
    m1
    #   x y z
    # a 1 2 3
    # b 4 5 6
    m1["a", ]
    # x y z
    # 1 2 3
    ```
  - 矩阵的基本运算
    - 乘积
      ```R
      m1 = matrix(c(1, 2), 1, 2)
      m2 = matrix(c(3, 4), 2, 1)
      m1 %*% m2
           [,1]
      [1,]   11
      ```
    - 逆矩阵
      ```R
      A = matrix(c(1, 3, 2, 4), 2, 2)
      solve(A)
          [,1] [,2]
      [1,] -2.0  1.0
      [2,]  1.5 -0.5
      ```
    - apply() 函数将矩阵的每一行/列当作向量来进行操作
      ```R
      A = matrix(c(1, 3, 2, 4), 2, 2)
          [,1] [,2]
      [1,]    1    2
      [2,]    3    4
      apply(A, 1, sum) # 第二个参数为 1 按行操作，用 sum 函数
      # 3 7
      apply(A, 2, sum) # 第二个参数为 2 按列操作
      # 4 6
      ```