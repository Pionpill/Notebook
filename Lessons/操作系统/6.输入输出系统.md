<link rel=stylesheet href=style.css>

# 输入输出系统
## I/O系统的功能，模块和接口
> I/O设备
  - 输入输出设备
    - /O设备就是可以将数据输入到计算机，或者可以接收计算机输出数据的外部设备，属于计算机中的硬件部件
> I/O系统的基本功能
  - 隐藏物理设备的细节
  - 与设备的无关性
  - 提高处理机和I/O设备的利用率
  - 对I/O设备进行控制
  - 确保对设备的正确共享
  - 错误处理
> I/O软件的层次结构
  - 层次结构  
    <img src=images/IO层次.svg width=600px>
> I/O系统接口
  - 块设备接口
    - 指以数据块为单位来组织和传送数据信息的设备
    - 典型的块设备是磁盘、光盘
    - 块设备的基本特征
      - 传输速率较高，通常每秒钟为几兆位
      - 它是可寻址的，即可随机地读/写任意一块
      - 磁盘设备的I/O采用DMA方式
  - 流设备接口
    - 又称字符设备指以单个字符为单位来传送数据信息的设备
    - 这类设备一般用于数据的输入和输出，有交互式终端、打印机
    - 字符设备的基本特征
      - 传输速率较低
      - 不可寻址，即不能指定输入时的源地址或输出时的目标地址
      - 字符设备的I/O常采用中断驱动方式
  - 网络通信接口
    - 提供网络接入功能，使计算机能通过网络与其他计算机进行通信或上网浏览

## 中断机构和中断处理程序
> 中断
  - 分类
    - 中断（外部触发）
      - 对外部I/O设备发出的中断信号的响应
    - 陷入（内部原因：除0）
      - 由CPU内部事件引起的中断
  - 中断向量表（类比51单片机）
    - 中断程序的入口地址表
  - 中断优先级
    - 对紧急程度不同的中断处理方式
  - 对多中断源的处理方式
    - 屏蔽中断
    - 嵌套中断
> 中断处理程序
  - 测定是否有未响应的中断信号
  - 保护被中断进程的CPU环境
  - 转入相应的设备处理程序
  - 中断处理
  - 恢复CPU 的现场并退出中断
  
## 用户层的I/O软件
> 系统调用与库函数
  - OS向用户提供的所有功能，用户进程都必须通过系统调用来获取
  - 在C语言以及UNIX系统中，系统调用（如read）与各系统调用所使用的库函数（如read）之间几乎是一一对应的。而微软的叫Win32API
> 假脱机系统（spooling）
  - spooling技术是对脱机输入/输出系统的模拟
  - 主要组成
    - 输入/输出井
    - 输入/输出缓冲区
    - 输入/输出进程
    - 井管理程序
  - 特点（体现操作系统的虚拟性）
    - 提高了I/O的速度
      - 对数据所进行的I/O操作，已从对低速设备演变为对输入井或输出井中的数据存取
    - 将独占设备改造为共享设备
      - 实际分给用户进程的不是打印设备，而是共享输出井中的存储区域
    - 实现了虚拟设备功能
      - 将独占设备变成多台独占的虚拟设备