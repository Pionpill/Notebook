<link rel=stylesheet href=style.css>

# 总体设计
## 1 设计过程
### 1.1 总体设计步骤

- 总体设计过程  <br>
  ```plantuml
  left to right direction
  agent "总体设计过程" as a1
  agent "系统设计阶段" as a2
  agent "结构设计阶段" as a3
  a1 --> a2
  a1 --> a3
  ```
- 总体设计步骤
  1. 设想供选择的方案
  2. 选取合理的方案
  3. 推荐最佳方案
  4. 功能分解 
  5. 设计软件结构
  6. 设计数据库
  7. 制定测试计划
  8. 书写文档
  9. 审查和复查
   
### 1.2 设计原理
#### 模块化
- 模块：由边界元素限定的相邻程序元素，是构成程序的基本构件
- 模块化：把程序划分成独立命名且可独立访问的模块
- 模块不能无限细分，应该选择`模块成本`与`接口成本`合计最小的成本区
- 采用模块化原理可以使软件`结构清晰`，不仅`容易设计`也`容易阅读和理解`。有助于软件开发工程的`组织管理`
#### 抽象
- 抽象：抽出事物的本质特性而暂时不考虑他们的细节，将相似的方面集中起来概括
#### 逐步求精
- `逐步求精定义为为了能集中精力解决主要问题而尽量推迟对问题细节的考虑`
- 采用自顶向下的设计策略
#### 信息隐藏和局部化
- 信息隐藏原理: 设计和确定模块，使得一个模块内部包含的信息对于不需要这些信息的模块来说，是不能访问的
- 局部化：把一些关系密切的软件元素物理地放得彼此靠近
#### 模块独立
- 有效的模块化地软件比较容易开发出来
- 模块的独立程度可以由两个定性标准度量，这两个标准分别称为`内聚`和`耦合`
  - 耦合：软件结构内不同模块之间互联程序的度量，耦合强弱取决于模块间接口的复杂程度
    - 数据耦合：两个模块彼此间通过参数交换信息，而且交换的信息仅仅是数据。
      - 数据耦合是低耦合，系统中至少必须存在这种耦合
    - 控制耦合：传递的信息中有控制信息
      - 中等程度的耦合
    - 特征耦合：把整个数据结构作为参数传递而被调用的模块只需要使用其中一部分数据元素
    - 公共环境耦合：多个模块通过一个公共数据环境相互作用
      - 公共环境可以是全程变量，共享的通信区，内存的公共覆盖区，任何存储介质上的文件，物理设备等
      - 公共环境耦合的复杂程度随耦合的模块个数变化而变化，个数增加，复杂度增加
        - 一个模块往公共环境送数据，另一个模块从公共环境取数据。这是数据耦合的一种形式，是比较松散的耦合。
        - 两个模块都既往公共环境送数据又从里面取数据，这种耦合比较紧密，介于数据耦合和控制耦合之间。
    - 内容耦合：最高程度的耦合，包含下列情况之一
      - 一个模块访问另一个模块的内部数据。
      - 一个模块不通过正常入口而转到另一个模块的内部。
      - 两个模块有一部分程序代码重叠 只可能出现在汇编程序中。
      - 一个模块有多个入口 这意味着一个模块有几种功能 。
    - 尽量使用数据耦合，`少用控制耦合和特征耦合，限制公共环境耦合的范围，完全不用内容耦合`。
  - 内聚：衡量一个模块内部各个元素彼此结合的紧密程度。
    - 低内聚：
      - 一个模块完成一组任务，这些任务彼此间即使有关系，关系也是很松散的，就叫做偶然内聚。
      - 一个模块完成的任务在逻辑上属于相同或相似的一类，则称为逻辑内聚。
      - 一个模块包含的任务必须在同一段时间内执行，就叫时间内聚。
    - 中内聚：
      - 一个模块内的处理元素是相关的，而且必须以特定次序执行，则称为过程内聚。
      - 模块中所有元素都使用同一个输入数据和或产生同一个输出数据，则称为通信内聚 。
    - 高内聚：
      - 一个模块内的处理元素和同一个功能密切相关，而且这些处理必须顺序执行 通常一个处理元素的输出数据作为下一个处理元素的输入数据 ))，则称为顺序内聚。
      - 模块内所有处理元素属于一个整体，完成一个单一的功能，则称为功能内聚。功能内聚是最高程度的内聚。
    - 内聚评分
      | 10分     | 9分      | 7分      | 5分      | 3分      | 1分      | 0分      |
      | -------- | -------- | -------- | -------- | -------- | -------- | -------- |
      | 功能内聚 | 顺序内聚 | 通信内聚 | 过程内聚 | 时间内聚 | 逻辑内聚 | 偶然内聚 |

### 1.3 启发规则
#### 启发规则内容
- 改进软件结构提高模块独立性
- 模块规模应该适中
- 深度，宽度，扇出和扇入适当
  - 深度：软件结构中控制的层数
  - 宽度：软件结构内同一层次上的模块总数的最大值
  - 扇出：一个模块直接控制的模块数目
  - 扇入：一个模块被多少个上级模块直接调用的数目
- 模块的作用域应该再控制域之内
  - 作用域：受该模块内一个判定影响的所有模块的集合
  - 控制域：模块本身以及所直接或间接从属于它的模块的集合
- 力争降低模块接口的复杂程度
- 设计单入口单出口的模块
- 模块功能应该可以预测