<link href="style.css" rel="stylesheet" type="text/css"/>  

<h1> 6 应用层 </h1>
<h2>  6.1 网络应用模型 </h2> 
<h3> 6.1.1 应用层概述 </h3>

> 应用层作用，应用层协议定义，应用层的功能

<h4> 应用层作用 </h4>

  - 应用层作用
    - 应用层对应用程序的通信提供服务

<h4> 应用层协议定义 </h4>

  - 应用进程交换的报文类型，请求还是响应？
  - 各种报文类型的语法，如报文中的各个字段及其详细描述
  - 字段的语义，即包含在字段中的信息的含义
  - 进程何时、如何发送报文，以及对报文进行响应的规则

<h4> 应用层的功能 </h4>

  - 文件传输，访问和管理
  - 电子邮件
  - 虚拟终端
  - 查询服务和远程作业登录

<h3> 6.1.2 网络应用模型 </h3>

> CS，P2P

<h4> CS/P2P </h4>

  - 见前

<h2>  6.2 域名解析系统DNS </h2> 
<h3> 6.2.1 DNS 系统 </h3>

> 域名，域名解析过程

<h4> 域名 </h4>

  - DNS 服务器
    - 实现域名与IP地址转换
    - 域名服务器分类
      - 根域名服务器：向下管理
      - 顶级域名服务器：管理该顶级域名服务器注册的所有二级域名
      - 权限域名服务器：负责一个区的域名服务器
      - 本地域名服务器：当一个主机发出DNS查询请求时，这个查询请求报文就发给本地域名服务器
  - 域名特点
    - 不区分大小写
  - 标号
    - 用.分开的内容
    - 从左到右等级提升
    - 顶级域名：最后一个域名
      - 国家顶级域名：cn,cs,uk
      - 通用顶级域名：com,net,int,gov
      - 基础结构域名/反向域名：arpa
    - 二级域名
      - 类别域名：ac,com,edu,gov
      - 行政区域名 用于我国各省、自治区、直辖市bj，js
      - 个人可注册域名：cctv,baidu

<h4> 域名解析过程 </h4>

  - 递归查询
  - 迭代查询

<h2> 6.3 文件传送协议 </h2> 
<h3> 6.3.1 文件传送协议FTP </h3>

> 概述，FTP服务器和用户端，FTP工作原理，FTP传输模式

<h4> 概述 </h4>

  - 提供不同种类主机系统(硬、软件体系等都可以不同)之间的文件传输能力

<h4> FTP服务器和用户端 </h4>

  - FTP是基于客户/服务器(C/S)的协议
  - 用户通过一个客户机程序连接至在远程计算机上运行的服务器程序
  - 依照FTP协议提供服务，进行文件传送的计算机就是FTP服务器
  - 连接FTP服务器，遵循FTP协议与服务器传送文件的电脑就是FTP客户端

<h4> FTP工作原理 </h4>

  - 匿名登录
    - 不需要登记注册也不需要授权
  - TCP 可靠传输
  - 服务器进程
    - 一个主进程，n个从属进程
    - 控制连接：始终保持
    - 数据连接：保持一会
    - 是否使用TCP20端口建立数据连接与传输模式有关
      - 主动方式使用 TCP20 端口
      - 被动方式有服务器和客户端决定 (>1024)

<h4> FTP传输模式 </h4>

  - 文本模式：ASC模式，以文本序列传输数据
  - 二进制模式： Binary!模式，以二进制序列传输数据

<h3> 6.3.2 简单文件传送协议 TFTP </h3>

> 概述

<h4> 概述 </h4>

  - 适用于小型文件，不进行检验


<h2> 6.4 电子邮件 </h2> 
<h3> 6.4.1 电子邮件概述 </h3>

> 信息格式，组成结构

<h4> 信息格式 </h4>

  - 电子邮件
    - 信封：abc@123.com
    - 内容
      - 首部：To: abc@123.com  Subject:Hello!
      - 主体：主要内容

<h4> 组成结构 </h4>

  - 用户代理
    - 用户和电子邮件的接口
    - 电子邮件的客户端软件
    - 功能：撰写，显示，处理，通信
  - 邮件服务器
    - 功能：发送/接收右键，向发件人报告右键传送结果
    - 协议
      - 发送：SMTP
      - 接收：POP3，IMAP

<h3> 6.4.2 电子邮件协议 </h3>

> 简单邮件传送协议SMTP，通用因特网邮件扩充MIME，邮局协议POP3，网际报文存储协议IMAP，基于万维网的电子邮件

<h4> 简单邮件传送协议SMTP </h4>

  - SMTP规定了在两个相互通信的SMTP进程之间应如何交换信息
  - 负责发送邮件的SMTP进程就是SMTP客户，负责接收邮件的进程就是SMTP服务器
  - SMTP规定了14条命令（几个字母）和21种应答信息(三位数字代码+简单文字说明)
  - TCP连接，端口号25
  - 阶段
    - 连接建立，邮件发送，连接释放
  - SMTP缺点
    - SMTP不能传送可执行文件或者其他二进制对象
    - SMTP仅限于传送7位ASC码，不能传送其他非英语国家的文字
    - SMTP服务器会拒绝超过一定长度的邮件

<h4> 通用因特网邮件扩充MIME </h4>

  - 功能：使得传输内容丰富多彩
  - 作用：在SMTP基础上

<h4> 邮局协议POP3 </h4>

  - POP3工作方式
    - 下载并保留
    - 下载并删除

<h4> 网际报文存储协议IMAP </h4>

  - IMAP协议比POP协议复杂。当用户Pc上的MAP客户程序打开IMAP服务器的邮箱时，用户可以看到邮箱的首部，若用户需要打开某个邮件，该邮件才上传到用户的计算机上
  - IMAP可以让用户在不同的地方使用不同的计算机随时上网阅读处理邮件，还允许只读取邮件中的某一个部分(先看正文，有WiFi的时候再下载附件)。

<h4> 基于万维网的电子邮件 </h4>

  - 特点：方便


<h2> 6.5 万维网和HTTP协议 </h2> 
<h3> 6.5.1 万维网 </h3>

> 万维网概述

<h4> 万维网概述 </h4>

  - 万维网WW( World Wide Web)是一个大规模的、联机式的信息储藏所/资料空间，是无数个网络站点和网页的集合
  - 统一资源定位符URL
    - <协议>://<主机>:<端口>/<路径>
  - 万维网使用超文本标记语言HTML,使得万维网页面设计者可以很方便地从一个界面的链接转到另一个界面，并能够在自己的屏幕上显示出来。

<h3> 6.5.2 超文本传输协议 HTTP </h3>

> HTTP作用，HTTP协议的特点，HTTP协议报文结构

<h4> HTTP作用 </h4>

  - HTTP协议定义了浏览器（万维网客户进程）怎样向万维网服务器请求万维网文档，以及服务器怎样把文档传送给浏览器

<h4> HTTP协议的特点 </h4>

  - HTTP协议是无状态的
  - Cookie
    - Cookie是存储在用户主机中的文本文件，记录一段时间内某用户(使用识别码识别，如“123456”)的访问记录
    - 提供个性化服务
  - HTTP采用TCP作为运输层协议，但HTP协议本身是无连接的（通信双方在交换HTP报文之前不需要先建立HTP连接）
  - HTTP 连接方式
    - 持久连接：Keep-alive
      - 非流水线
      - 流水线
    - 非持久连接：Close

<h4> HTTP协议报文结构 </h4>

  - 报文结构图示  
    <img src=images/png/HTTP报文结构.png width=500>