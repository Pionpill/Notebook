<link href="style.css" rel="stylesheet">

<h1> 数据类型与运算符 </h1>
<h2> 1 MySQL 数据类型 </h2>
<h3> 1.1 整数类型 </h3>
<h4> 基本属性 </h4>

  - 数据类型表
    | 数据类型  |    说明    | 存储需求 | 最大存储值(无符号) | 默认宽度 |
    | :-------: | :--------: | :------: | :----------------: | :------: |
    |  TINYINT  | 很小的整数 |    1B    |  $2.2\times10^2$   |    4     |
    | SMALLINT  |  小的整数  |    2B    |  $6.5\times 10^4$  |    6     |
    | MEDIUMINT | 中等的整数 |    3B    |  $1.6\times 10^7$  |    9     |
    |    INT    | 普通的整数 |    4B    |  $4.2\times10^9$   |    11    |
    |  BIGINT   |   大整数   |    8B    | $1.8\times10^{19}$ |    20    |
  - 宽度显示  
    INT(11): 数据类型为 INT ,能够显示的最大宽度为 11

<h3> 1.2 浮点数类型和定点数类型 </h3>
<h4> 基本属性 </h4>

  - 数据类型表
    |     类型名称     |        说明        | 存储需求 | 最大精度(次方) |
    | :--------------: | :----------------: | :------: | :------------: |
    |      FLOAT       |       单精度       |    4B    |       38       |
    |      DOUBLE      |       双精度       |    8B    |      308       |
    | DECIMAL(M,D),DEC | 压缩的"严格"定点数 |  M+2 B   |      308       |
  - DECIMAL(M,D)
    - M: 精度，总共的位数
    - D: 标度，小数的位数
    - 以串存储，最大取值范围和 DOUBLE 一样

<h3> 1.3 日期与时间类型 </h3>
<h4> 基本属性 </h4>

  - 数据类型表
    | 类型名称  |      日期格式       |                     日期范围                      | 存储需求 |
    | :-------: | :-----------------: | :-----------------------------------------------: | :------: |
    |   TEAR    |        YYYY         |                    1901 ~ 2155                    |    1B    |
    |   TIME    |      HH:MM:SS       |              -838:59:59 ~ 838:59:59               |    3B    |
    |   DATE    |     YYYY-MM-DD      |              1000-01-01 ~ 9999-12-3               |    3B    |
    | DATETIME  | YYYY-MM-DD HH:MM:SS |     1000-01-01 00:00:00 ~ 9999-12-31 23:59:59     |    8B    |
    | TIMESTAMP | YYYY-MM-DD HH:MM:SS | 1970-01-01 00:00:01 UTC ~ 2038-01-19 03:14:07 UTC |    4B    |

<h4> 数据类型 </h4>

  - YEAR
    - 输入格式： 'YEAR' 或 YEAR
    - 以两位字符串表示，范围为'00'~'99'
      - '00'~'69':2020~2069 
      - '70'~'99':1970~1999
      - 插入超过取值范围将被转换为2000
      - 0 将被转换为 0000 '0' 将被转换为 2000
  - TIME
    - 输入格式：'D HH:MM:SS' , 'HH:MM:SS' , 'HH:MM' , 'D HH:MM' , 'D HH','SS'
    - D 表示日，存储时将被转换为小时
    - 'HHMMSS' 格式，如果无意义将被转换为 00:00:00
    - 不使用 : 时，MySQL 将右对齐载入，否则左对齐
  - DATA
    - 输入格式："YYYY-MM-DD" , "YYYYMMDD"
    - YYYY 可以简写为 YY , 取值同 YEAR
    - CURRENT_DATE() 插入当前系统日期，不包括时间
    - NOW()  插入当前系统日期和时间
    - MySQL 允许用不严格的字符 来代替 “-” 如"/","@"
  - DATATIME
    - 参考 DATA 和 TIME
  - TIMESTAMP
    - TIMESTAMP 存储时间范围小于 DATATIME
    - 以 UTC(世界标准时间) 存储，存储时对当前时区进行转换

<h3> 1.4 文本类型字符串 </h3>
<h4> 基本属性 </h4>

  - 数据类型表
    |  类型名称  |           说明           |                   存储需求                    |
    | :--------: | :----------------------: | :-------------------------------------------: |
    |  CHAR(M)   |  固定长度非二进制字符串  |            M字节, 1&leq;M&leq;255             |
    | VARCHAR(M) |    变长非二进制字符串    |       L+1 字节，L&leq;M 1&leq;M&leq;255       |
    |  TINYTEXT  |  非常小的非二进制字符串  |               L+1 字节，L<$2^8$               |
    |    TEXT    |    小的非二进制字符串    |              L+2 字节，L<$2^16$               |
    | MEDIUMTEXT | 中等大小的非二进制字符串 |              L+3 字节，L<$2^24$               |
    |  LONGTEXT  |    大的非二进制字符串    |              L+4 字节，L<$2^32$               |
    |    ENUM    |     枚举类型，一个值     |    1或2字节，取决于枚举值的数目(最大65535)    |
    |    SET     |         一个设置         | 1,2,3,4,8字节，取决于集合成员的数量(最多64个) |
<h4>数据类型</h4>
  
  - CHAR 和 VARCHAR
    - CHAR(M) 为固定长度字符串，检测到CHAR时，删除尾部空格
    - VARCHAR(M) 为边长字节，尾部空格将被保留
    - 如果字符串长度超过限制，在不严格情形下会被截断，严格情形下将报错
  - TEXT
    - TEXT 用于保存非二进制字符串，如文章，评论等
    - 尾部空格保留
    - 不同 TEXT 类型存储空间和数据长度不同
  - ENUM
    - 语法格式
      ```SQL
      字段名 ENUM ('值1','值2',...,'值n')
      ```
    - ENUM 类型的字段在取值时，只能在指定的枚举列表中取，并且一次只能取一个
    - 尾部空格将被删除
    - 每个枚举值均有一个索引值，列表所允许的成员值从1开始编号
    - ENUM 取值范围
      |   值   | 索引  |
      | :----: | :---: |
      |  NULL  | NULL  |
      |   "    |   0   |
      | value1 |   1   |
      | value2 |   2   |
  - SET
    - 语法格式
      ```SQL
      SET('值1','值2',...,'值n')
      ```
    - 尾部空格将被删除
    - 可以从定义的列值中选择多个字段的联合
    - 插入的值会被自动调整顺序，相同值将被忽略

<h3> 1.5 二进制字符串类型 </h3>
<h4> 基本属性 </h4>

  - 数据类型表
    |   类型名称    |         说明         |      存储需求       |
    | :-----------: | :------------------: | :-----------------: |
    |    BIT(M)     |      位字段类型      |   大约(M+7)/8字节   |
    |   BINARY(M)   | 固定长度二进制字符串 |        M字节        |
    |   VARBINARY   | 可变长度二进制字符串 |       M+1字节       |
    |  TINYBLOB(M)  |     非常小的BLOB     |  L+1字节, $L<2^8$   |
    |    BLOB(M)    |        小BLOB        | L+2字节, $L<2^{16}$ |
    | MEDIUMBLOB(M) |    中等大小的BLOB    | L+3字节, $L<2^{24}$ |
    |  LONGBLOB(M)  |     非常大的BLOB     | L+1字节, $L<2^{32}$ |

<h4> 数据类型 </h4>

  - BIT(M)
    - BIT 是位字段类型，将数值转换为进制形式
    - M 表示每个值的位数，范围为 1-64。省略默认为1
    - 如果分配的长度小于 M ，左边补0
  - BINARY(M) 和 VARBINARY
    - BINARY 类型长度固定，插入值不足则在右侧补充"\0"
  - BLOB
    - BLOB 列存储时二进制字符串，TEXT是非二进制字符串
    - BLOB 列没有字符集，并且排列和比较基于列值字节的数值

<h2> 2 选择数据类型 </h2>
<h3> 2.1 浮点数与定点数 </h3>

  - 浮点数会产生误差，精度要求高的数据可以用 DECIMAL 存储
  - DECIMAL 是以字符串存储
  - DECIMAL 是非标准 SQL 定义，数据迁移可能会出现问题
  - 浮点数比较和运算时容意出现问题，最好使用DECIMAL类型

<h3> 2.2 日期与时间类型 </h3>

  - TIMESTAMP 默认情况如果没有指定值，则会用当前时间代替
  - TIMESTAMP 在空间上要比 DATASTAMP 更有效

<h3> 2.3 CHAR 和 VARCHAR </h3>

  - CHAR 会自动删除尾部空格，VARCHAR不会
  - CHAR 在速度上更快，VARCHAR 在空间存储上利用率更高
  - MyISAM引擎：最好使用固定长度数据。这样可以使得整个表静态化，从而使数据检索更快，用空间换时间
  - InnoDB引擎：数据表存储格式不分固定长度和可变长度，使用CHAR不一定比使用VARCHAR更好，但由于VARCHAR节省空间，建议使用VARCHAR

<h3> 2.4 SNUM 和 SET </h3>

  - ENUM 只能取单值，最多包含 65,535 个成员
  - SET 可以取多值，最多允许64个成员

<h3> 2.5 BLOB 和 TEXT </h3>

  - BLOB 是二进制字符串，TEXT是非二进制字符串。均可存储大容量信息
  - BLOB 只要用于存储图片，音频等
  - TEXT 主要孕育存储纯文本文件

<h2> 3 常见运算符 </h2>
<h3> 3.1 算术运算符 </h3>
<h4> 概述 </h4>

- MySQL 算术运算符
  | 运算符 |   +   |   -   |   *   |   /   |   %   |
  | :----: | :---: | :---: | :---: | :---: | :---: |
  |  作用  | 加法  | 减法  | 乘法  | 除法  | 取余  |

<h3> 3.2 比较运算符 </h3>
<h4> 概述 </h4>

- MySQL 比较运算符
  |   运算符    |            作用            |
  | :---------: | :------------------------: |
  |      =      |            等于            |
  |     <=>     |         安全的等于         |
  |   <>(!=)    |           不等于           |
  |     <=      |          小于等于          |
  |     >=      |          大于等于          |
  |      <      |            小于            |
  |      >      |            大于            |
  |   IS NULL   |         是否为NULL         |
  | IS NOT NULL |        是否不是NULL        |
  |    LEAST    |     多个参数返回最小值     |
  |  GREATEST   |     多个参数返回最大值     |
  | BETWEEN AND | 判断一个值是否在两个值之间 |
  |     IN      |          在列表中          |
  |   NOT IN    |         不在列表中         |
  |    LIKE     |         通配符匹配         |
  |   REGEXP    |         正则表达式         |

<h4> 等于运算符：= </h4>

  - 等于运算符在判断时会自动转换数据类型，如 2='2'
  - 等于运算符不能作用于NULL，返回NULL
  - 数值比较规则
    - 若存在NULL，结果为NULL
    - 若比较双方都为字符串，则按字符串进行比较
    - 若两个参数均为整数，按整数比较
    - 字符串与数字比较，则将字符串转换为数字

<h4> 安全等于运算符：<=> </h4>

  - 与 = 相似，但可以判断 NULL

<h4> 不等于运算符：!=/<> </h4>

  - 不能用于判断空值 NULL

<h4> 大于/小于运算符 >=,> </h4>

  - 不能用于判断空值 NULL
  - 字符串按位比较

<h4> BETWEEN...AND... </h4>

  - 语法格式
    ```SQL
    expr BETWEEN min AND max
    ```
  - 范围为闭区间
  - 字符可以比较

<h4> LEAST/GREATEST </h4>

  - 语法格式
    ```SQL
    LEAST(value1,value2,...)
    ```
  - 字符串可用于比较
  - 存在 NULL 则不可用于比较